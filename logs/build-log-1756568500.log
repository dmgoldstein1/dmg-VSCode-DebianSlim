[INFO] Verbose logging enabled. All output will be saved to logs/build-log-1756568500.log
Container image dmg-vs-code-debian-slim:8e484dfdc715 not found. Building...
#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 3.85kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/debian:testing-slim
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [ 1/17] FROM docker.io/library/debian:testing-slim@sha256:12ce5b90ca703a11ebaae907649af9b000e616f49199a2115340e0cdf007e42a
#4 resolve docker.io/library/debian:testing-slim@sha256:12ce5b90ca703a11ebaae907649af9b000e616f49199a2115340e0cdf007e42a done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 2.04MB 0.6s done
#5 DONE 0.6s

#6 [ 6/17] RUN type -p curl >/dev/null || sudo apt install curl -y &&     curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg &&     sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg &&     echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null &&     sudo apt update && sudo apt install -y --no-install-recommends gh &&     sudo apt-get clean && sudo rm -rf /var/lib/apt/lists/* /var/cache/apt/archives/*
#6 CACHED

#7 [ 4/17] WORKDIR /home/devuser
#7 CACHED

#8 [ 7/17] RUN curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash - &&     sudo apt-get install -y nodejs &&     sudo apt-get clean && sudo rm -rf /var/lib/apt/lists/* /var/cache/apt/archives/*
#8 CACHED

#9 [ 8/17] RUN npm install -g npm
#9 CACHED

#10 [ 9/17] COPY --chown=devuser:devuser vscode-container-updater/ /home/devuser/vscode-container-updater/
#10 CACHED

#11 [ 3/17] RUN useradd -ms /bin/bash devuser && echo "devuser ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
#11 CACHED

#12 [10/17] WORKDIR /home/devuser/vscode-container-updater
#12 CACHED

#13 [11/17] RUN npm install && npm audit fix --force && npm run compile
#13 CACHED

#14 [ 2/17] RUN apt-get update &&     apt-get -y upgrade &&     apt-get install -y --no-install-recommends         curl wget sudo git openssh-client ca-certificates gpg bash coreutils &&     apt-get clean && rm -rf /var/lib/apt/lists/*
#14 CACHED

#15 [ 5/17] RUN curl -fsSL https://packages.microsoft.com/keys/microsoft.asc | sudo gpg --batch --yes --dearmor -o /usr/share/keyrings/microsoft.gpg &&     echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/microsoft.gpg] https://packages.microsoft.com/repos/code stable main" | sudo tee /etc/apt/sources.list.d/vscode.list > /dev/null &&     sudo apt-get update && sudo apt-get install -y --no-install-recommends code &&     sudo apt-get clean && sudo rm -rf /var/lib/apt/lists/* /var/cache/apt/archives/*
#15 CACHED

#16 [12/17] RUN npm install @vscode/vsce && npx @vscode/vsce package --out vscode-container-updater-updated.vsix
#16 CACHED

#17 [13/17] RUN code --install-extension /home/devuser/vscode-container-updater/vscode-container-updater-updated.vsix --force --no-sandbox --user-data-dir /root/.vscode-server
#17 0.283 Installing extensions...
#17 0.413 Extension 'vscode-container-updater-updated.vsix' was successfully installed.
#17 DONE 0.4s

#18 [14/17] RUN rm -rf node_modules && npm cache clean --force
#18 1.675 npm warn using --force Recommended protections disabled.
#18 DONE 1.8s

#19 [15/17] WORKDIR /home/devuser
#19 DONE 0.0s

#20 [16/17] COPY --chown=devuser:devuser scripts/vscode-tunnel-entrypoint.sh /home/devuser/vscode-tunnel-entrypoint.sh
#20 DONE 0.0s

#21 [17/17] RUN chmod +x /home/devuser/vscode-tunnel-entrypoint.sh
#21 DONE 0.1s

#22 exporting to image
#22 exporting layers
#22 exporting layers 5.5s done
#22 exporting manifest sha256:31c8d531b99a0262b763f4d1ee4fb07a0163bd41f65b05ddd35a528b1bf90886
#22 exporting manifest sha256:31c8d531b99a0262b763f4d1ee4fb07a0163bd41f65b05ddd35a528b1bf90886 done
#22 exporting config sha256:e76917bfce196fba8fdce534c92aab12f6f6a4fb5e0cabd266c5348f3002981f done
#22 exporting attestation manifest sha256:fabf744c532a37cd1ae7613a33767d800361f03384eb19660ac0890336c18ceb done
#22 exporting manifest list sha256:8718894944742de9c08501e4869816fbbb03d14bab199655b77a21e840ee7537 0.0s done
#22 naming to docker.io/library/dmg-vs-code-debian-slim:8e484dfdc715 done
#22 unpacking to docker.io/library/dmg-vs-code-debian-slim:8e484dfdc715
#22 unpacking to docker.io/library/dmg-vs-code-debian-slim:8e484dfdc715 1.9s done
#22 DONE 7.5s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/1pf8rul3ia1xoj9ifld49kox1
[INFO] Docker build log saved to logs/docker-build-8e484dfdc715.log
Running npm audit fix in a temp container (if npm is present)...
*
* Visual Studio Code Server
*
* By using the software, you agree to
* the Visual Studio Code Server License Terms (https://aka.ms/vscode-server-license) and
* the Microsoft Privacy Statement (https://privacy.microsoft.com/en-US/privacystatement).
*
[2025-08-30 15:41:54] info Using GitHub for authentication, run `code tunnel user login --provider <provider>` option to change this.
To grant access to the server, please log into https://github.com/login/device and use code 3F00-8218
[2025-08-30 15:48:07] info Creating tunnel with the name: b77ab3a1b506

Open this link in your browser https://vscode.dev/tunnel/b77ab3a1b506

[2025-08-30 15:48:19] info [tunnels::connections::relay_tunnel_host] Opened new client on channel 2
[2025-08-30 15:48:19] info [russh::server] wrote id
[2025-08-30 15:48:19] info [russh::server] read other id
[2025-08-30 15:48:19] info [russh::server] session is running
[2025-08-30 15:48:20] info [rpc.0] Checking /home/devuser/.vscode/cli/servers/Stable-6f17636121051a53c88d3e605c491d22af2ba755/log.txt and /home/devuser/.vscode/cli/servers/Stable-6f17636121051a53c88d3e605c491d22af2ba755/pid.txt for a running server...
[2025-08-30 15:48:20] info [rpc.0] Downloading Visual Studio Code server -> /tmp/.tmpVEqzwH/vscode-server-linux-arm64.tar.gz
[2025-08-30 15:48:23] info [rpc.0] Starting server...
[2025-08-30 15:48:23] info [rpc.0] Server started
^C[INFO] NPM audit log saved to logs/npm-audit-8e484dfdc715.log
Running apt-get update/upgrade in a temp container (if apt is present)...
*
* Visual Studio Code Server
*
* By using the software, you agree to
* the Visual Studio Code Server License Terms (https://aka.ms/vscode-server-license) and
* the Microsoft Privacy Statement (https://privacy.microsoft.com/en-US/privacystatement).
*
[2025-08-30 15:50:55] info Using GitHub for authentication, run `code tunnel user login --provider <provider>` option to change this.
To grant access to the server, please log into https://github.com/login/device and use code 8313-D18F
[2025-08-30 15:52:01] info Creating tunnel with the name: 2701b1803a0a

Open this link in your browser https://vscode.dev/tunnel/2701b1803a0a

